<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="Comment">

   <!-- 쿼리를 xml로 작성하고 id:식별값  
        parameterType:우리가 전달할값 
        resultType : 받아오는값  -->
        
   <!-- if test="key=='1'"  - 이렇게 쓰면 안된다 인식안된다 -->
  



   
   <insert id="Comment_insert" parameterType="CommentDto">
      insert into tb_comment
      ( board_id, userid, comment, wdate)
      values
      (#{board_id}, #{userid}, #{comment}, now())
   </insert>
   
   <select id = "Comment_list" parameterType="CommentDto" resultType = "CommentDto">
   select
   	A.userid, comment, A.wdate, A.id, username
   	from tb_comment A
   	left outer join member B on A.userid = B.userid
   	where board_id =#{board_id}
   </select>
  
   
   
   
</mapper>